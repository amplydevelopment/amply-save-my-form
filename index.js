var P=function(e,t){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},P(e,t)};function j(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");P(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function _(e,t,n,r){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function l(f){try{a(r.next(f))}catch(w){c(w)}}function v(f){try{a(r.throw(f))}catch(w){c(w)}}function a(f){f.done?i(f.value):o(f.value).then(l,v)}a((r=r.apply(e,t||[])).next())})}function S(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=l(0),c.throw=l(1),c.return=l(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(a){return function(f){return v([a,f])}}function v(a){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,a[0]&&(n=0)),n;)try{if(r=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,o=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1],i=a;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(a);break}i[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(f){a=[6,f],o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function W(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var M="1.9.1",s={Awesomium:"awesomium",Cef:"cef",CefSharp:"cefsharp",CoachJS:"coachjs",Electron:"electron",FMiner:"fminer",Geb:"geb",NightmareJS:"nightmarejs",Phantomas:"phantomas",PhantomJS:"phantomjs",Rhino:"rhino",Selenium:"selenium",Sequentum:"sequentum",SlimerJS:"slimerjs",WebDriverIO:"webdriverio",WebDriver:"webdriver",HeadlessChrome:"headless_chrome",Unknown:"unknown"},d=function(e){j(t,e);function t(n,r){var o=e.call(this,r)||this;return o.state=n,o.name="BotdError",Object.setPrototypeOf(o,t.prototype),o}return t}(Error);function H(e,t){var n={},r={bot:!1};for(var o in t){var i=t[o],c=i(e),l={bot:!1};typeof c=="string"?l={bot:!0,botKind:c}:c&&(l={bot:!0,botKind:s.Unknown}),n[o]=l,l.bot&&(r=l)}return[n,r]}function F(e){return _(this,void 0,void 0,function(){var t,n,r=this;return S(this,function(o){switch(o.label){case 0:return t={},n=Object.keys(e),[4,Promise.all(n.map(function(i){return _(r,void 0,void 0,function(){var c,l,v,a,f;return S(this,function(w){switch(w.label){case 0:c=e[i],w.label=1;case 1:return w.trys.push([1,3,,4]),l=t,v=i,f={},[4,c()];case 2:return l[v]=(f.value=w.sent(),f.state=0,f),[3,4];case 3:return a=w.sent(),a instanceof d?t[i]={state:a.state,error:"".concat(a.name,": ").concat(a.message)}:t[i]={state:-3,error:a instanceof Error?"".concat(a.name,": ").concat(a.message):String(a)},[3,4];case 4:return[2]}})})}))];case 1:return o.sent(),[2,t]}})})}function R(e){var t=e.appVersion;if(t.state!==0)return!1;if(/headless/i.test(t.value))return s.HeadlessChrome;if(/electron/i.test(t.value))return s.Electron;if(/slimerjs/i.test(t.value))return s.SlimerJS}function E(e,t){return e.indexOf(t)!==-1}function h(e,t){return e.indexOf(t)!==-1}function N(e,t){if("find"in e)return e.find(t);for(var n=0;n<e.length;n++)if(t(e[n],n,e))return e[n]}function K(e){return Object.getOwnPropertyNames(e)}function L(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=function(v){if(typeof v=="string"){if(E(e,v))return{value:!0}}else{var a=N(e,function(f){return v.test(f)});if(a!=null)return{value:!0}}},o=0,i=t;o<i.length;o++){var c=i[o],l=r(c);if(typeof l=="object")return l.value}return!1}function y(e){return e.reduce(function(t,n){return t+(n?1:0)},0)}function G(e){var t=e.documentElementKeys;if(t.state!==0)return!1;if(L(t.value,"selenium","webdriver","driver"))return s.Selenium}function J(e){var t=e.errorTrace;if(t.state!==0)return!1;if(/PhantomJS/i.test(t.value))return s.PhantomJS}function q(e){var t=e.evalLength,n=e.browserKind,r=e.browserEngineKind;if(!(t.state!==0||n.state!==0||r.state!==0)){var o=t.value;return r.value==="unknown"?!1:o===37&&!E(["webkit","gecko"],r.value)||o===39&&!E(["internet_explorer"],n.value)||o===33&&!E(["chromium"],r.value)}}function V(e){var t=e.functionBind;if(t.state===-2)return s.PhantomJS}function U(e){var t=e.languages;if(t.state===0&&t.value.length===0)return s.HeadlessChrome}function z(e){var t=e.mimeTypesConsistent;if(t.state===0&&!t.value)return s.Unknown}function $(e){var t=e.notificationPermissions,n=e.browserKind;if(n.state!==0||n.value!=="chrome")return!1;if(t.state===0&&t.value)return s.HeadlessChrome}function X(e){var t=e.pluginsArray;if(t.state===0&&!t.value)return s.HeadlessChrome}function Z(e){var t=e.pluginsLength,n=e.android,r=e.browserKind,o=e.browserEngineKind;if(!(t.state!==0||n.state!==0||r.state!==0||o.state!==0)&&!(r.value!=="chrome"||n.value||o.value!=="chromium")&&t.value===0)return s.HeadlessChrome}function Q(e){var t,n=e.process;if(n.state!==0)return!1;if(n.value.type==="renderer"||((t=n.value.versions)===null||t===void 0?void 0:t.electron)!=null)return s.Electron}function Y(e){var t=e.productSub,n=e.browserKind;if(t.state!==0||n.state!==0)return!1;if((n.value==="chrome"||n.value==="safari"||n.value==="opera"||n.value==="wechat")&&t.value!=="20030107")return s.Unknown}function ee(e){var t=e.userAgent;if(t.state!==0)return!1;if(/PhantomJS/i.test(t.value))return s.PhantomJS;if(/Headless/i.test(t.value))return s.HeadlessChrome;if(/Electron/i.test(t.value))return s.Electron;if(/slimerjs/i.test(t.value))return s.SlimerJS}function te(e){var t=e.webDriver;if(t.state===0&&t.value)return s.HeadlessChrome}function ne(e){var t=e.webGL;if(t.state===0){var n=t.value,r=n.vendor,o=n.renderer;if(r=="Brian Paul"&&o=="Mesa OffScreen")return s.HeadlessChrome}}function re(e){var t=e.windowExternal;if(t.state!==0)return!1;if(/Sequentum/i.test(t.value))return s.Sequentum}function ie(e){var t=e.windowSize,n=e.documentFocus;if(t.state!==0||n.state!==0)return!1;var r=t.value,o=r.outerWidth,i=r.outerHeight;if(n.value&&o===0&&i===0)return s.HeadlessChrome}function oe(e){var t=e.distinctiveProps;if(t.state!==0)return!1;var n=t.value,r;for(r in n)if(n[r])return r}var ae={detectAppVersion:R,detectDocumentAttributes:G,detectErrorTrace:J,detectEvalLengthInconsistency:q,detectFunctionBind:V,detectLanguagesLengthInconsistency:U,detectNotificationPermissions:$,detectPluginsArray:X,detectPluginsLengthInconsistency:Z,detectProcess:Q,detectUserAgent:ee,detectWebDriver:te,detectWebGL:ne,detectWindowExternal:re,detectWindowSize:ie,detectMimeTypesConsistent:z,detectProductSub:Y,detectDistinctiveProperties:oe};function se(){var e=navigator.appVersion;if(e==null)throw new d(-1,"navigator.appVersion is undefined");return e}function ue(){if(document.documentElement===void 0)throw new d(-1,"document.documentElement is undefined");var e=document.documentElement;if(typeof e.getAttributeNames!="function")throw new d(-2,"document.documentElement.getAttributeNames is not a function");return e.getAttributeNames()}function ce(){try{null[0]()}catch(e){if(e instanceof Error&&e.stack!=null)return e.stack.toString()}throw new d(-3,"errorTrace signal unexpected behaviour")}function de(){return eval.toString().length}function le(){if(Function.prototype.bind===void 0)throw new d(-2,"Function.prototype.bind is undefined");return Function.prototype.bind.toString()}function x(){var e,t,n=window,r=navigator;return y(["webkitPersistentStorage"in r,"webkitTemporaryStorage"in r,r.vendor.indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in n,"BatteryManager"in n,"webkitMediaStream"in n,"webkitSpeechGrammar"in n])>=5?"chromium":y(["ApplePayError"in n,"CSSPrimitiveValue"in n,"Counter"in n,r.vendor.indexOf("Apple")===0,"getStorageUpdates"in r,"WebKitMediaKeys"in n])>=4?"webkit":y(["buildID"in navigator,"MozAppearance"in((t=(e=document.documentElement)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4?"gecko":"unknown"}function fe(){var e,t=(e=navigator.userAgent)===null||e===void 0?void 0:e.toLowerCase();return h(t,"edg/")?"edge":h(t,"trident")||h(t,"msie")?"internet_explorer":h(t,"wechat")?"wechat":h(t,"firefox")?"firefox":h(t,"opera")||h(t,"opr")?"opera":h(t,"chrome")?"chrome":h(t,"safari")?"safari":"unknown"}function ve(){var e=x(),t=e==="chromium",n=e==="gecko";if(!t&&!n)return!1;var r=window;return y(["onorientationchange"in r,"orientation"in r,t&&!("SharedWorker"in r),n&&/android/i.test(navigator.appVersion)])>=2}function we(){return document.hasFocus===void 0?!1:document.hasFocus()}function me(){var e=window;return y([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}function ge(){var e=navigator,t=[],n=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(n!==void 0&&t.push([n]),Array.isArray(e.languages)){var r=x();r==="chromium"&&me()||t.push(e.languages)}else if(typeof e.languages=="string"){var o=e.languages;o&&t.push(o.split(","))}return t}function he(){if(navigator.mimeTypes===void 0)throw new d(-1,"navigator.mimeTypes is undefined");for(var e=navigator.mimeTypes,t=Object.getPrototypeOf(e)===MimeTypeArray.prototype,n=0;n<e.length;n++)t&&(t=Object.getPrototypeOf(e[n])===MimeType.prototype);return t}function pe(){return _(this,void 0,void 0,function(){var e,t;return S(this,function(n){switch(n.label){case 0:if(window.Notification===void 0)throw new d(-1,"window.Notification is undefined");if(navigator.permissions===void 0)throw new d(-1,"navigator.permissions is undefined");if(e=navigator.permissions,typeof e.query!="function")throw new d(-2,"navigator.permissions.query is not a function");n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.query({name:"notifications"})];case 2:return t=n.sent(),[2,window.Notification.permission==="denied"&&t.state==="prompt"];case 3:throw n.sent(),new d(-3,"notificationPermissions signal unexpected behaviour");case 4:return[2]}})})}function be(){if(navigator.plugins===void 0)throw new d(-1,"navigator.plugins is undefined");if(window.PluginArray===void 0)throw new d(-1,"window.PluginArray is undefined");return navigator.plugins instanceof PluginArray}function ye(){if(navigator.plugins===void 0)throw new d(-1,"navigator.plugins is undefined");if(navigator.plugins.length===void 0)throw new d(-3,"navigator.plugins.length is undefined");return navigator.plugins.length}function _e(){var e=window.process,t="window.process is";if(e===void 0)throw new d(-1,"".concat(t," undefined"));if(e&&typeof e!="object")throw new d(-3,"".concat(t," not an object"));return e}function Se(){var e=navigator.productSub;if(e===void 0)throw new d(-1,"navigator.productSub is undefined");return e}function Ee(){if(navigator.connection===void 0)throw new d(-1,"navigator.connection is undefined");if(navigator.connection.rtt===void 0)throw new d(-1,"navigator.connection.rtt is undefined");return navigator.connection.rtt}function Ae(){return navigator.userAgent}function Ce(){if(navigator.webdriver==null)throw new d(-1,"navigator.webdriver is undefined");return navigator.webdriver}function Pe(){var e=document.createElement("canvas");if(typeof e.getContext!="function")throw new d(-2,"HTMLCanvasElement.getContext is not a function");var t=e.getContext("webgl");if(t===null)throw new d(-4,"WebGLRenderingContext is null");if(typeof t.getParameter!="function")throw new d(-2,"WebGLRenderingContext.getParameter is not a function");var n=t.getParameter(t.VENDOR),r=t.getParameter(t.RENDERER);return{vendor:n,renderer:r}}function Le(){if(window.external===void 0)throw new d(-1,"window.external is undefined");var e=window.external;if(typeof e.toString!="function")throw new d(-2,"window.external.toString is not a function");return e.toString()}function xe(){return{outerWidth:window.outerWidth,outerHeight:window.outerHeight,innerWidth:window.innerWidth,innerHeight:window.innerHeight}}function ke(){var e,t=(e={},e[s.Awesomium]={window:["awesomium"]},e[s.Cef]={window:["RunPerfTest"]},e[s.CefSharp]={window:["CefSharp"]},e[s.CoachJS]={window:["emit"]},e[s.FMiner]={window:["fmget_targets"]},e[s.Geb]={window:["geb"]},e[s.NightmareJS]={window:["__nightmare","nightmare"]},e[s.Phantomas]={window:["__phantomas"]},e[s.PhantomJS]={window:["callPhantom","_phantom"]},e[s.Rhino]={window:["spawn"]},e[s.Selenium]={window:["_Selenium_IDE_Recorder","_selenium","calledSelenium",/^([a-z]){3}_.*_(Array|Promise|Symbol)$/],document:["__selenium_evaluate","selenium-evaluate","__selenium_unwrapped"]},e[s.WebDriverIO]={window:["wdioElectron"]},e[s.WebDriver]={window:["webdriver","__webdriverFunc","__lastWatirAlert","__lastWatirConfirm","__lastWatirPrompt","_WEBDRIVER_ELEM_CACHE","ChromeDriverw"],document:["__webdriver_script_fn","__driver_evaluate","__webdriver_evaluate","__fxdriver_evaluate","__driver_unwrapped","__webdriver_unwrapped","__fxdriver_unwrapped","__webdriver_script_fn","__webdriver_script_func","__webdriver_script_function","$cdc_asdjflasutopfhvcZLmcf","$cdc_asdjflasutopfhvcZLmcfl_","$chrome_asyncScriptInfo","__$webdriverAsyncExecutor"]},e[s.HeadlessChrome]={window:["domAutomation","domAutomationController"]},e),n,r={},o=K(window),i=[];window.document!==void 0&&(i=K(window.document));for(n in t){var c=t[n];if(c!==void 0){var l=c.window===void 0?!1:L.apply(void 0,W([o],c.window,!1)),v=c.document===void 0||!i.length?!1:L.apply(void 0,W([i],c.document,!1));r[n]=l||v}}return r}var De={android:ve,browserKind:fe,browserEngineKind:x,documentFocus:we,userAgent:Ae,appVersion:se,rtt:Ee,windowSize:xe,pluginsLength:ye,pluginsArray:be,errorTrace:ce,productSub:Se,windowExternal:Le,mimeTypesConsistent:he,evalLength:de,webGL:Pe,webDriver:Ce,languages:ge,notificationPermissions:pe,documentElementKeys:ue,functionBind:le,process:_e,distinctiveProps:ke},We=function(){function e(){this.components=void 0,this.detections=void 0}return e.prototype.getComponents=function(){return this.components},e.prototype.getDetections=function(){return this.detections},e.prototype.detect=function(){if(this.components===void 0)throw new Error("BotDetector.detect can't be called before BotDetector.collect");var t=H(this.components,ae),n=t[0],r=t[1];return this.detections=n,r},e.prototype.collect=function(){return _(this,void 0,void 0,function(){var t;return S(this,function(n){switch(n.label){case 0:return t=this,[4,F(De)];case 1:return t.components=n.sent(),[2,this.components]}})})},e}();function Ke(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/botd/v".concat(M,"/npm-monitoring"),!0),e.send()}catch(t){console.error(t)}}function Te(e){var t=e===void 0?{}:e,n=t.monitoring,r=n===void 0?!0:n;return _(this,void 0,void 0,function(){var o;return S(this,function(i){switch(i.label){case 0:return r&&Ke(),o=new We,[4,o.collect()];case 1:return i.sent(),[2,o]}})})}(()=>{const e=document.querySelectorAll("form[amply-smf]"),t=()=>{console.log("Bot activity detected!"),document.querySelectorAll("[amply-smf-bot-alert]").forEach(b=>{b.classList.add("active")})};let n=!1,r=!1,o=!1,i=!1,c=!1,l={};const v=()=>{let u=0;return n?u=u+100:u=u-100,r&&(u=u+1),o&&(u=u+1),i&&(u=u+1),c&&(u=u+1),u},a=(u=()=>{})=>{const b=Te();try{b.then(async m=>(l=await m.collect(),m.detect())).then(m=>{m&&m.bot===!1?n=!0:(t(),n=!1)}).catch(m=>console.error(m)).finally(u)}catch(m){console.error(m),u()}},f=()=>{window.addEventListener("scroll",()=>{r=!0})},w=()=>{window.addEventListener("keyup",()=>{o=!0})},T=()=>{window.addEventListener("mousemove",()=>{i=!0})},O=()=>{window.addEventListener("click",()=>{c=!0})},B=()=>{e.length&&console.log("Amply's Save My Form has successfully loaded and is now monitoring",e.length,e.length>1?"forms.":"form."),e.forEach(u=>{const b=u.hasAttribute("amply-smf-debug"),m=u.hasAttribute("amply-smf-min-form-change")?parseInt(u.getAttribute("amply-smf-min-form-change")||"2"):2,I=u.hasAttribute("amply-smf-min-key-up")?parseInt(u.getAttribute("amply-smf-min-key-up")||"2"):2;let k=!1,A=0,C=0;if(b){const p=document.createElement("input");p.setAttribute("type","hidden"),p.setAttribute("name","amply-smf-debug-log"),p.setAttribute("value",JSON.stringify(l));const g=document.createElement("input");g.setAttribute("type","hidden"),g.setAttribute("name","amply-smf-is-bot"),g.setAttribute("value",n?"Human Detected":"Bot Detected"),u.appendChild(p),u.appendChild(g)}const D=()=>{if(k)return;const p=v();let g=0;A>=m&&(g=g+1),C>=I&&(g=g+1),p>=102&&g>=1&&(k=!0,u.removeAttribute("action"),u.hasAttribute("amply-smf-action")&&u.setAttribute("action",u.getAttribute("amply-smf-action")||""),window.Webflow&&window.Webflow.require&&window.Webflow.require("forms")&&window.Webflow.require("forms").ready&&window.Webflow.require("forms").ready())};u.addEventListener("change",()=>{A=A+1,D()}),u.addEventListener("keyup",()=>{C=C+1,D()})})};a(()=>{f(),w(),T(),O(),B()})})();
